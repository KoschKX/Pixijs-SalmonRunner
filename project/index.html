<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="icon" href="./favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Salmon Runner</title>
    <link rel="stylesheet" href="css/game.css">
</head>
<body class="noscroll">
    <div id="gameContainer" class="noscroll">
        <div id="preloader" class="noscroll">
            <div class="progress-container">
                <div class="progress-bar"></div>
                <div class="progress-text">0%</div>
                <div class="progress-text-filled">0%</div>
            </div>
            <button id="startButton" onclick="startGame()">START</button>
        </div>
        <canvas id="gameCanvas"></canvas>
    </div>
    <div id="gameInfo" class="noscroll" style="display: none;">
        <div id="health"></div>
        <div>Distance: <span id="distance">0</span>m</div>
    </div>
    <div id="gameOverBackdrop" class="noscroll"></div>
    <div id="gameOver" class="noscroll">
        <h1 id="gameOverTitle">Game Over</h1>
        <p id="gameOverMessage"></p>
        <p>Distance: <span id="finalDistance">0</span>m</p>
        <button onclick="restartGame()">Play Again</button>
    </div>
    <script src="js/utilities.js"></script>
    <script src="js/preloader.js"></script>
    <script src="js/lib/pixi.js"></script>
    <script src="js/audiomanager.js"></script>
    <script src="js/hud.js"></script>
    <script src="js/camera.js"></script>
    <script src="js/sprite.js"></script>
    <script src="js/stone.js"></script>
    <script src="js/waterfall.js"></script>
    <script src="js/riverstreaks.js"></script>
    <script src="js/fish.js"></script>
    <script src="js/bear.js"></script>
    <script src="js/bird.js"></script>
    <script src="js/net.js"></script>
    <script src="js/river.js"></script>
    <script src="js/overlaymanager.js"></script>
    <script src="js/particlemanager.js"></script>
    <script src="js/spawnmanager.js"></script>
    <script src="js/romanticsequence.js"></script>
    <script src="js/player.js"></script>
    <!-- Ensure all manager scripts are loaded just before game.js -->
    <script src="js/renderer.js"></script>
    <script src="js/gamestate.js"></script>
    <script src="js/scenemanager.js"></script>
    <script src="js/inputmanager.js"></script>
    <script src="js/resourceloader.js"></script>
    <script src="js/game.js"></script>

</body>
<script>
// Fix for mobile viewport height (accounts for browser UI)
function setVH() {
    const vh = window.innerHeight * 0.01;
    document.documentElement.style.setProperty('--vh', `${vh}px`);
}

// Set on load and resize
setVH();
window.addEventListener('resize', setVH);
window.addEventListener('orientationchange', setVH);
</script>
</body>
</html>
